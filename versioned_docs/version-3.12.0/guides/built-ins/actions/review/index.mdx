import CodeBlock from "@theme/CodeBlock";
import Example from "!!raw-loader!./example.yml";

:::warning Requires GitHub token

Please note that this action requires the [Reviewpad Action to be installed with a GitHub token](/getting-started/installation-with-github-token).
:::

**Description**:

Submits a pull request review.

The action fails when review type is `REQUEST_CHANGES` or `COMMENT` and no message is provided.

The review will only be performed if the following conditions are met:
- the last review is not `APPROVED`;
- the pull request has changes since the last submitted review.

**Parameters**:

| Parameter    | Type   | Description                                                         |
| ------------ | ------ | ------------------------------------------------------------------- |
| `review_type`| string | The kind of review, can be `APPROVE`, `REQUEST_CHANGES`, `COMMENT`. |
| `message`    | string | The message to write as a comment.                                  |

**Examples**:

```yml
$review("APPROVE", "")
```

A `reviewpad.yml` example:

<CodeBlock language="yml">{Example}</CodeBlock>
